<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org" th:with="pageTitle=#{reports.title}">
<head th:replace="~{layout :: head}"></head>
<body class="rx78-theme">
<header th:replace="~{layout :: body/header}"></header>

<main class="container">
    <h2 th:text="#{reports.heading}">Relatório Financeiro da Coleção</h2>
    <p style="color: var(--text-dim); margin-bottom: 2rem;" th:text="#{reports.description}">Análise de custos e resumo quantitativo da sua coleção de Gunpla.</p>

    <div class="form-grid">
        <div class="card" style="text-align: center;">
            <h3 style="color: var(--text-dim); font-size: 1rem;" th:text="#{reports.total_cost}">CUSTO TOTAL DA COLEÇÃO</h3>
            <p style="font-family: 'Orbitron', sans-serif; font-size: 2.5rem; color: var(--rx-green); margin: 0;"
               th:text="${report.custoTotal != null ? #numbers.formatCurrency(report.custoTotal) : 'R$ 0,00'}">
                R$ 2.580,00
            </p>
        </div>

        <div class="card" style="text-align: center;">
            <h3 style="color: var(--text-dim); font-size: 1rem;" th:text="#{reports.avg_cost}">CUSTO MÉDIO POR KIT</h3>
            <p style="font-family: 'Orbitron', sans-serif; font-size: 2.5rem; color: var(--rx-yellow); margin: 0;"
               th:text="${report.custoMedio != null ? #numbers.formatCurrency(report.custoMedio) : 'R$ 0,00'}">
                R$ 215,00
            </p>
        </div>

        <div class="card" style="text-align: center;">
            <h3 style="color: var(--text-dim); font-size: 1rem;" th:text="#{reports.total_units}">TOTAL DE UNIDADES</h3>
            <p style="font-family: 'Orbitron', sans-serif; font-size: 2.5rem; color: var(--rx-blue); margin: 0;"
               th:text="${report.totalDeKits}">
                12
            </p>
        </div>
    </div>

    <div class="form-grid mt-4">
        <div class="card">
            <h4 th:text="#{reports.most_expensive}">Destaque: Kit(s) de Maior Valor</h4>
            <div th:if="${not #lists.isEmpty(report.kitsMaisCaros)}">
                <div th:each="kit : ${report.kitsMaisCaros}" style="border-bottom: 1px solid var(--ring); padding: 8px 0;">
                    <a th:href="@{|/kits/${kit.id}|}" th:text="${kit.modelo}" style="font-weight: 700;"></a>
                    <strong th:text="${#numbers.formatCurrency(kit.preco)}" style="float: right; color: var(--rx-green);"></strong>
                </div>
            </div>
            <p th:if="${#lists.isEmpty(report.kitsMaisCaros)}" style="color: var(--text-dim);" th:text="#{reports.no_kits}">Nenhum kit cadastrado.</p>
        </div>

        <div class="card">
            <h4 th:text="#{reports.cheapest}">Destaque: Kit(s) de Menor Valor</h4>
            <div th:if="${not #lists.isEmpty(report.kitsMaisBaratos)}">
                <div th:each="kit : ${report.kitsMaisBaratos}" style="border-bottom: 1px solid var(--ring); padding: 8px 0;">
                    <a th:href="@{|/kits/${kit.id}|}" th:text="${kit.modelo}" style="font-weight: 700;"></a>
                    <strong th:text="${#numbers.formatCurrency(kit.preco)}" style="float: right; color: var(--rx-red);"></strong>
                </div>
            </div>
            <p th:if="${#lists.isEmpty(report.kitsMaisBaratos)}" style="color: var(--text-dim);" th:text="#{reports.no_kits}">Nenhum kit cadastrado.</p>
        </div>
    </div>
</main>

<footer th:replace="~{layout :: body/footer}"></footer>
</body>
</html>

